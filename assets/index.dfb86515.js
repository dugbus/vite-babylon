import{b as r}from"./vendor.64115eaa.js";const v=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function A(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=A(t);fetch(t.href,n)}};v();async function g(e,i,A,o){return new Promise((t,n)=>{console.log(e);const a=new BABYLON.Texture(e,i,!0,!0,BABYLON.Texture.NEAREST_SAMPLINGMODE);a.onLoadObservable.add(()=>{console.log(a);const m=[],s=a.getSize().width,l=a.getSize().height;console.log(s,l);const c=s*l,u=a.readPixels(),p=BABYLON.MeshBuilder.CreateBox("basebox",{size:A},i);p.registerInstancedBuffer("color",4),p.instancedBuffers.color=new BABYLON.Color4(1,0,0,1);for(let w=0;w<c;w++){const O=w%s,Y=Math.floor(w/s),b=(Y*s+O)*4;if(u[b+3]===0)continue;const d=p.createInstance(`box${w}`),C=s*1.1/2,R=l*1.1/2;d.position.x=(O*1.1-C)*A,d.position.y=(Y*1.1-R)*A,d.position.z=Math.random()*o,d.acceleration=-(Math.random()*.05+.05),d.velocity=0,d.metadata=`box${w}`,p.instancedBuffers.color=new BABYLON.Color4(u[b]/255,u[b+1]/255,u[b+2]/255,1),m.push(d)}return t({instances:m,targetY:o+500})})})}function N({instances:e,targetY:i},A){if(e)for(const o of e)o&&(o.velocity+=o.acceleration,o.position.z-=o.velocity,o.position.z>i&&(o.position.z=i))}var D="/vite-babylon/assets/tunner.68226289.png",E="/vite-babylon/assets/tripout.9c263441.png",T="/vite-babylon/assets/cobble-albedo.a8f512c9.png",W="/vite-babylon/assets/cobble-normal.25da99d8.png";function z(e){[{radius:10,texture:D,uScale:3,vScale:100},{radius:10,texture:E,albedo:T,normal:W,uScale:3,vScale:100}].forEach(({radius:i,texture:A,uScale:o,vScale:t,albedo:n,normal:a,rough:m})=>{const s=[];for(let u=-1e3;u<1e4;u+=100)s.push(new BABYLON.Vector3(0,0,u));const l=BABYLON.MeshBuilder.CreateTube("tunnel",{path:s,radius:i,tessellation:50,sideOrientation:BABYLON.Mesh.DOUBLESIDE,updatable:!0},e),c=new BABYLON.StandardMaterial(A,e);c.diffuseTexture=new BABYLON.Texture(n,e),c.bumpTexture=new BABYLON.Texture(a,e),c.invertNormalMapY=!0,c.invertNormalMapX=!0,c.diffuseColor=new BABYLON.Color3(.4,.5,.4),c.diffuseTexture.uScale=o,c.diffuseTexture.vScale=t,c.bumpTexture.uScale=o,c.bumpTexture.vScale=t,l.material=c,l.position.x=0,l.position.y=0,l.position.z=0})}var x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABgCAYAAABYO/9YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE3mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTA1VDIwOjA4OjMyWiIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wMi0wNVQyMDowODozMloiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTAyLTA1VDIwOjA4OjMyWiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzdiMmI2ZmQtYjhlZS00OWEyLTgxN2ItYmU1YmEyY2UwY2ZkIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc3YjJiNmZkLWI4ZWUtNDlhMi04MTdiLWJlNWJh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",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAbCAYAAAAkoDzBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC8klEQVRYheVY/5WbMAy2+7oAK7ACHYEV6AisQEfIjZCOQEagIyQjwAgwwtc/TgofwsbQy12vqd67l0T+rF+WJfmcixCABsCImUbhFbE9/zwBaBGn5m/b9wj6YhlyopX8vHgh59x359zPjzTuQwlATae7K60B5ABOJjNaAFUA2wRwKz0Aes0wABX9BoCTwRYAzkbuCUB2xPGKNncA8h1OjwjT2WCvEdxonSdH+wD+TLhiQ39/1HlrYIfI3ZY1pRPxa96DZSadhFeyjojjwGtW5ORoHdDfAyiFV1EwFtmRcjzDOnVUeGFwd+MSMrVgjobPVyQjfh/CB+xUasya2t/vdtwIaLDMgJ7WipjigBx1xJ5ssKbE8GYvZ0yUQntXVd2S9/7Fe//NOXcRVo4n6OWxdhaiX/RdU3IgXioYtwiOi+fgjhHjf/gI7ZIkqadTGhcUTne+i+9d3KKpLji1qwe1T7G5wd7iZgwMke2h793OUo5vtbOVDSnnGyxPEmJ0rKWFBpgO+waYMwKzwl7HN/RDdK1s+L8JchdNpOoNvI3sVhbwY2dxB9+ALbG8Mh0iBRlzveLsynQxNBIGHUf81WbvfRaRC+vQQWwRwY0w1wXrw1S6suMtlpPaynEsZ/gmEIicsJwVpXGuN3KPYLmC5yYQPL/zRNcFAlGz0DK4sDZwJF5wciMDW+Kx4uIoFpHxFIFRGMtDYl2a9m1yciMq5XNQ47z3N+fcJHzt+Zmbh5RBDG7ccgAqjmJJv2IrcUoHowxz1hUGq4FSucURx3VoUUcr8zs3OF0rhDcRP3sANpc/xq5s8N5PzrlSgny39Yjjlva/cz8h9i2OT2nI58V+/YONGjn9/5um12Bwir3JJ7eb6UHYwc1XLmiDpPjFez9RDZgfNweqOkTYnqp+JV6qqm9iTVXnx1CqqvPD5V7VVUmDZR9viZ8HhLViCM/zsT7eSID29PEUVoM04vWg2KZYH79iPcvXDmkqSeBTTW4pKo3Ap5jVfwMryHSDgmqT9gAAAABJRU5ErkJggg==",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAATCAYAAADxlA/3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/klEQVRIicVWWxKCMAzc0hfy43m8szfxOqBOQeOPHSHTlgZ03C+6E5JtHm0VEeGfMJw4X/rFujETGneHtleyboDxPawdlNc3sjrAgOCeWrUPT248oA0dXOiUCx1MaKFHD0z24/B0LAvIgACoBK/Yd84ui0Zi/A5AhbUYUgF8dyrBiVBbgpheLiLF/URAKshaT2wWMK+pquDWbHjGFiJzPRBry51yxzmbuThi/yyQK0FNvWu7vziepQykOD73uyagJCAGkM58tKkWlioB3yXnam1y9qsCSqiZBhEkAlKpnXPiewCQH8Ux0Nfu8C0Cdnf+HNKjmNc7d0fUO/33i+gFNr1ERtQXD8QAAAAASUVORK5CYII=";const B=document.getElementById("renderCanvas"),h=new r.exports.Engine(B,!0);let L,f,I;const M=async function(){const e=new r.exports.Scene(h);e.clearColor=new r.exports.Color4(0,0,0,1),new r.exports.UniversalCamera("Camera",r.exports.Vector3.Zero(),e).attachControl(B,!0),e.activeCamera.position.x=0,e.activeCamera.position.y=0,e.activeCamera.position.z=0,z(e),L=await g(G,e,.2,500),f=await g(x,e,.2,1e3),I=await g(j,e,.2,2e3);const A=new r.exports.HemisphericLight("light2",new r.exports.Vector3(0,-1,0),e);A.intensity=.5,A.diffuse=new r.exports.Color3(1,1,1);const o=new r.exports.HemisphericLight("light3",new r.exports.Vector3(0,1,0),e);return o.intensity=.5,o.diffuse=new r.exports.Color3(1,1,1),e.onPointerObservable.add(t=>{switch(t.type){case r.exports.PointerEventTypes.POINTERDOWN:const a=t.pickInfo;if(a.hit){var n=a.pickedMesh;n&&(n.position.z=n.position.z+10)}break;case r.exports.PointerEventTypes.POINTERPICK:break}}),e.debugLayer.show({embedMode:!0}),e.createDefaultXRExperienceAsync(),e};let y=performance.now();M().then(e=>{const i={velocity:0,acceleration:.01};h.runRenderLoop(function(){performance.now()-y>1e3&&N(L),performance.now()-y>5e3&&N(f),performance.now()-y>1e4&&N(I),i.velocity+=i.acceleration,i.velocity>5&&(i.velocity=5),e.activeCamera.position.z+=i.velocity,e.render()}),window.addEventListener("resize",function(){h.resize()})});
